{% extends 'layouts/base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
    <div class="min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12">
        <div class="relative py-3 sm:max-w-xl sm:mx-auto">
            <div class="relative px-4 py-10 bg-white mx-8 md:mx-0 shadow rounded-3xl sm:p-10">
            
                <form method="post">
                    
                    <div class="max-w-md mx-auto">
                        <div class="flex items-center space-x-5">
                            <div class="h-14 w-14 bg-yellow-200 rounded-full flex flex-shrink-0 justify-center items-center text-yellow-500 text-2xl font-mono">i</div>
                            <div class="block pl-2 font-semibold text-xl self-start text-gray-700">
                                <h2 class="leading-relaxed">Me connecter</h2>
                                <p class="text-sm text-gray-500 font-normal leading-relaxed">Lorem ipsum, dolor sit amet consectetur adipisicing elit.</p>
                            </div>
                        </div>
                        
                        <div class="divide-y divide-gray-200">
                            <div class="py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7">
                                {% if error %}
                                    <div class="mb-3 hidden w-full items-center rounded-lg bg-warning-100 py-2 px-6 text-base text-warning-800 data-[te-alert-show]:inline-flex" role="alert" data-te-alert-init data-te-alert-show>
                                        <strong class="mr-1">Attention ! </strong>
                                        {{ error.messageKey|trans(error.messageData, 'security') }}
                                        <button type="button" class="ml-auto box-content hover:rounded-full hover:bg-warning-300 border-none p-1 text-warning-900 opacity-50 hover:text-warning-900 hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none" data-te-alert-dismiss aria-label="Close">
                                            <span class="w-[1em] focus:opacity-100 disabled:pointer-events-none disabled:select-none disabled:opacity-25 [&.disabled]:pointer-events-none [&.disabled]:select-none [&.disabled]:opacity-25">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="h-6 w-6">
                                                    <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z" clip-rule="evenodd"/>
                                                </svg>
                                            </span>
                                        </button>
                                    </div>
                                {% endif %}

                                {% if app.user %}
                                    <div class="mb-3 hidden w-full items-center rounded-lg bg-success-100 py-2 px-4 text-sm text-warning-800 data-[te-alert-show]:inline-flex" role="alert" data-te-alert-init data-te-alert-show>
                                        <span>
                                            <strong class="mr-1">{{ app.user.userIdentifier }}</strong> est connecté, <a class="underline hover:text-indigo-500" href="{{ path('app.logout') }}">me déconnecté</a> ?
                                        </span>

                                        <button type="button" class="ml-auto box-content hover:rounded-full hover:bg-success-300 border-none p-1 text-warning-900 opacity-50 hover:text-warning-900 hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none" data-te-alert-dismiss aria-label="Close">
                                            <span class="w-[1em] focus:opacity-100 disabled:pointer-events-none disabled:select-none disabled:opacity-25 [&.disabled]:pointer-events-none [&.disabled]:select-none [&.disabled]:opacity-25">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="h-6 w-6">
                                                    <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z" clip-rule="evenodd"/>
                                                </svg>
                                            </span>
                                        </button>
                                    </div>
                                {% endif %}
                            
                                <div class="flex flex-col">
                                    <label for="inputEmail" class="leading-loose text-sm uppercase">Adresse mail</label>
                                    <input type="email" value="{{ last_username }}" name="email" id="inputEmail" autocomplete="email" required autofocus class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm: text-sm border-gray-300 rounded-md focus:outline-none text-gray-700 placeholder:text-gray-400" placeholder="Votre Email">
                                </div>
                                <div for="inputPassword" class="flex flex-col">
                                    <label class="leading-loose text-sm uppercase">Mot de passe</label>
                                    <input type="password" name="password" id="inputPassword" autocomplete="current-password" required class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-700 placeholder:text-gray-400" placeholder="Password">
                                </div>

                                <div class="flex justify-between text-xs">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="_remember_me">
                                            Remember me
                                        </label>
                                    </div>
                                    <span>
                                        Oublié le password ?
                                        <a class="hover:underline text-indigo-500" href="#">Réinitialiser !</a>
                                    </span>
                                </div>
                            </div>

                            
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                            
                            <div class="pt-4 flex items-center space-x-4">
                                <button type="submit" class="bg-blue-500 hover:bg-indigo-700 focus:bg-indigo-700 w-full block text-white px-4 py-3 rounded-md focus:outline-none">Connexion</button>
                            </div>
                        </div>

                        <div class="pt-6 flex justify-center text-xs">
                            <span>
                                Pas encore de compte ?
                                <a class="hover:underline text-indigo-500" href="{{ path('app.register') }}">Je m'incris !</a>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


    {# <div class="">
        <form method="post">
            {% if error %}
                <div class="alert alert-danger">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            {% if app.user %}
                <div class="mb-3">
                    You are logged in as
                    {{ app.user.userIdentifier }},
                    <a href="{{ path('app_logout') }}">Logout</a>
                </div>
            {% endif %}

            <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
            <label for="inputEmail">Email</label>
            <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>
            <label for="inputPassword">Password</label>
            <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>

            <input
            type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">


            <button class="btn-primary" type="submit">
                Sign in
            </button>
        </form>
    </div> #}
{% endblock %}
